{{template "_head" .}}
<div class="user signup">
	<div class="ui middle very relaxed page grid">
        <div class="column" >
            <form class="ui form" action="{{.Link}}" method="post">
                <h3 class="ui top attached header">
                    {{.i18n.Tr "Update Interface"}}
                </h3>
                <div class="ui attached segment">
                    <div class="required inline field">
                        <label for="name">{{.i18n.Tr "Name"}}</label>
                        <input id="name" name="name" value="{{ .Interface.Name }}" required>
                    </div>
                    <div class="required inline field">
                        <label for="address">{{.i18n.Tr "IP Address"}}</label>
                        <input id="address" name="address" value="{{ .Interface.Address.Address }}" disabled>
                    </div>
                    <div class="required inline field">
                        <label for="macaddr">{{.i18n.Tr "Mac Address"}}</label>
                        <input id="macaddr" name="macaddr" value="{{ .Interface.MacAddr }}" disabled>
                    </div>
                    <div class="inline field">
                    	<label for="inbound">{{.i18n.Tr "Inbound Bandwidth"}}</label>
                    	<input id="inbound" name="inbound" value="{{ .Interface.Inbound }}">
                    </div>
                    <div class="inline field">
                    	<label for="outbound">{{.i18n.Tr "Outbound Bandwidth"}}</label>
                    	<input id="outbound" name="outbound" value="{{ .Interface.Outbound }}">
                    </div>
                    <div class="inline field">
                        <label for="allow_spoofing">{{.i18n.Tr "Allow Spoofing"}}</label>
                        <select name="allow_spoofing" id="allow_spoofing" class="ui selection dropdown">
                              {{ if .Interface.AllowSpoofing }}
                              <option value="yes" selected>{{.i18n.Tr "yes"}}</option>
                              <option value="no">{{.i18n.Tr "no"}}</option>
                              {{ else }}
                              <option value="yes">{{.i18n.Tr "yes"}}</option>
                              <option value="no" selected>{{.i18n.Tr "no"}}</option>
                              {{ end }}
                        </select>
		    </div>
                    <div class="inline field">
                        <label for="sites">{{.i18n.Tr "Site Subnets"}}</label>
                        <select name="sites" id="sites" multiple="" class="ui multiple selection dropdown">
                            {{ $IfaceSites := .IfaceSites }}
            		    {{ range .SiteSubnets }}
                              {{ $siteID := .ID }}
                              {{ $selected := false }}
            		      {{ range $IfaceSites }}
                                {{ if eq .ID $siteID }}
                                  {{ $selected = true }}
                                {{ end }}
                              {{ end }}
                              {{ if $selected }}
                                  <option value="{{ .ID }}" selected>{{.Name}}--{{.Network}}/{{.Netmask}}</option>
                              {{ else }}
                                  <option value="{{ .ID }}">{{.Name}}--{{.Network}}/{{.Netmask}}</option>
                              {{ end }}
                            {{ end }}
                        </select>
		    </div>
                    <div class="inline field">
                        <label for="secgroups">{{.i18n.Tr "Security Groups"}}</label>
                        <select name="secgroups" id="secgroups" multiple="" class="ui multiple selection dropdown">
                            {{ $IfaceSecgroups := .IfaceSecgroups }}
            		    {{ range .Secgroups }}
                              {{ $sgID := .ID }}
                              {{ $selected := false }}
            		      {{ range $IfaceSecgroups }}
                                {{ if eq .ID $sgID }}
                                  {{ $selected = true }}
                                {{ end }}
                              {{ end }}
                              {{ if $selected }}
                                  <option value="{{ .ID }}" selected>{{ .ID }}-{{ .Name }}</option>
                              {{ else }}
                                  <option value="{{ .ID }}">{{ .ID }}-{{ .Name }}</option>
                              {{ end }}
                            {{ end }}
                        </select>
		    </div>
                    <div class="inline field">
                        <label></label>
                        <button class="ui green button">{{.i18n.Tr "Update Interface"}}</button>
                    </div>
                </div>
            </form>
        </div>
	</div>
</div>
{{template "_footer" .}}

