{{template "_head" .}}
    <div class="admin user">
	    <div class="ui container">
		    <div class="ui grid">
                {{template "_left" .}}
          	    <div class="twelve wide column content">
                            {{ $Link := .Link }}
                            {{ $Instance := .Instance }}
		            <h4 class="ui top attached header">
			            {{.i18n.Tr "Interface_Manage_Panel"}} -- {{$Instance.Hostname}} ({{.i18n.Tr "Total"}}: {{.Total}})
			            <div class="ui right">
				            <a class="ui green tiny button" href="{{$Link}}/new">{{.i18n.Tr "Create"}}</a>
			            </div>
		            </h4>
		            <div class="ui attached segment">
			            <form class="ui form">
	                        <div class="ui fluid tiny action input">
	                            <input name="q" value="{{ .Query }}" placeholder="Search..." autofocus>
	                            <button class="ui blue tiny button">{{.i18n.Tr "Search"}}</button>
	                        </div>
                        </form>
		            </div>
		            <div class="ui unstackable attached table segment">
                        <table class="ui unstackable very basic striped table">
	                        <thead>
		                        <tr>
									{{ if $.IsAdmin }}
			                        <th>{{.i18n.Tr "ID"}}</th>
									{{ end }}
									<th>{{.i18n.Tr "UUID"}}</th>
			                        <th>{{.i18n.Tr "Name"}}</th>
			                        <th>{{.i18n.Tr "Mac Address"}}</th>
			                        <th>{{.i18n.Tr "Primary"}}</th>
			                        <th>{{.i18n.Tr "Floating IP"}}</th>
			                        <th>{{.i18n.Tr "Native IP"}}</th>
			                        <th>{{.i18n.Tr "Native Subnet"}}</th>
			                        <th>{{.i18n.Tr "Second IPs"}}</th>
			                        <th>{{.i18n.Tr "Site IPs"}}</th>
			                        <th>{{.i18n.Tr "Edit"}}</th>
                                    <th>{{.i18n.Tr "Delete"}}</th>
		                        </tr>
	                        </thead>
	                        <tbody>
                                {{ range .Interfaces }}
				    {{ if or $.IsAdmin (eq $.UserID .Creater) }}
		                        <tr>
									{{ if $.IsAdmin }}
			                        <td>{{.ID}}</td>
									{{ end }}
									<td>{{.UUID}}</td>
			                        <td>{{.Name}}</td>
			                        <td>{{.MacAddr}}</td>
			                        <td>{{.PrimaryIf}}</td>
				                <td>{{ if .PrimaryIf }}
 						      {{ if $Instance.FloatingIps }}
							{{ range $Instance.FloatingIps }}
								{{ if and (ne .Type "site") (ne .Type "native") (ne .Type "reserved") }}
									{{.FipAddress }}<br>
								{{ end }}
							{{ end }}
						      {{ end }}
                                                    {{ end }}
                                                </td>
				                <td>{{.Address.Address}}</td>
                                    		<td>
                                                    <a href="{{$Link}}/../subnets/{{.ID}}">{{ .Address.Subnet.ID }}-{{ .Address.Subnet.Network }}</a><br>
                                    		</td>
			                        <td>{{ range .SecondAddresses }}
                                                        {{ .Address }}<br>
                                                    {{ end }}
                                                </td>
			                        <td>{{ range .SiteSubnets }}
                                                        <a href="{{$Link}}/../subnets/{{.ID}}">{{ .ID }}-{{ .Network }}</a><br>
                                                    {{ end }}
                                                </td>
			                        <td><a href="{{$Link}}/{{.ID}}"><i class="fa fa-pencil-square-o"></i></a></td>
                                    <td>{{ if not .PrimaryIf }}<div class="delete-button" data-url="{{$Link}}/{{.ID}}" data-id="{{.ID}}"><i class="dark purple trash alternate outline icon"></i></div>{{ end }}</td>
		                        </tr>
				    {{ end }}
				{{ end }}
	                        </tbody>
                        </table>
		            </div>
		            <div class="ui attached segment">
                                 {{ if .Pages}}
                                 <div class="ui pagination menu">
                                     {{ range  $index, $element := .Pages }}
                                         <a class="active item">
                                             <a href="{{$Link}}?offset={{$element.Offset}}">{{ $element.Number }}</a>
                                         </a>
                                     {{ end }}
                                 </div>
                                 {{ end }}
	                    </div>
	            </div>
            </div>
        </div>
    </div>
    <div class="ui small basic delete modal">
	    <div class="ui icon header">
		    <i class="trash icon"></i>
            {{.i18n.Tr "Interface Deletion"}}
	    </div>
	    <div class="content">
		    <p>{{.i18n.Tr "Interface_Deletion_Confirm"}}</p>
	    </div>
	    {{template "_delete_modal_actions" .}}
    </div>
{{template "_footer" .}}
